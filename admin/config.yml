# Force rebuild
backend:
  name: github
  repo: RDjarbeng/rdjarbeng.github.io
  branch: main
  base_url: https://sveltia-cms-auth.richarddjarbeng.workers.dev/

site_url: https://rdjarbeng.com/
media_folder: "assets/images"
public_folder: "/assets/images"
app_title: "Admin-rdjarbeng.com"

slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "-"

collections:
  - name: "posts"
    label: "Posts"
    folder: "_posts"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    editor:
      preview: true
    view_filters:
      - label: "Drafts"
        field: "published"
        pattern: false
      - label: "Published posts"
        field: "published"
        pattern: true
    fields:
      - {
          label: "Publish Date",
          name: "date",
          widget: "datetime",
          default: "{{now}}",
        }
      - {
          label: "Published",
          name: "published",
          widget: "boolean",
          default: true,
        }
      - {
          label: "Author",
          name: "author",
          widget: "relation",
          collection: "authors",
          display_fields: [display_name],
          search_fields: [display_name],
          default: "Richard",
          value_field: "short_name",
        }
      - {
          label: "Category",
          name: "category",
          widget: "relation",
          collection: "category_info",
          display_fields: [category_name],
          search_fields: [category_name],
          default: "Technology",
          value_field: "category_name",
        }
      - {
          label: "Tags",
          name: "tags",
          widget: "list",
          allow_add: true,
          # field: { label: 'Tag', name: 'tag', widget: 'string', hint: 'Enter a tag or select from suggestions' },
          default: [],
        }
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Body", name: "body", widget: "markdown" }
      # - { label: 'Image', name: 'image', widget: 'image', required: false }
      - label: "Image"
        name: "image"
        widget: "image"
        required: false
        media_libraries:
          default:
            config:
              transformations:
                raster_image:
                  format: webp
                  quality: 85
      - {
          label: "Image Alt Text",
          name: "image_alt",
          widget: "string",
          required: false,
          hint: "Alt text for the cover image",
        }
      - { label: "Layout", name: "layout", widget: "hidden", default: "post" }
      # - { label: 'Last Modified', name: 'last_modified_at', widget: 'datetime', required: false, hint: 'Automatically updated by GitHub Action', hidden: true }
      - label: "Card Items"
        name: "card_items"
        widget: "list"
        required: false
        collapsed: true
        summary: "{{fields.name}}"
        fields:
          - { label: "Title", name: "name", widget: "string" }
          - label: "Image"
            name: "image"
            widget: "image"
            required: false
            media_libraries:
              default:
                config:
                  transformations:
                    raster_image:
                      format: webp
                      quality: 85
          - {
              label: "Alt Text",
              name: "alt",
              widget: "string",
              required: false,
            }
          - {
              label: "Badge 1 (e.g. Best For)",
              name: "badge_1",
              widget: "string",
              required: false,
              hint: "First badge (blue)",
            }
          - {
              label: "Badge 2 (e.g. Type)",
              name: "badge_2",
              widget: "string",
              required: false,
              hint: "Second badge (green)",
            }
          - {
              label: "Description",
              name: "description",
              widget: "markdown",
              required: false,
            }
          - {
              label: "Primary Link URL",
              name: "url",
              widget: "string",
              required: false,
            }
          - {
              label: "Primary Link Text",
              name: "link_text",
              widget: "string",
              default: "Visit Link",
              required: false,
            }

  - name: "personal"
    label: "Personal"
    folder: "_personal"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    editor:
      preview: true
    view_filters:
      - label: "Drafts"
        field: "published"
        pattern: false
      - label: "Published posts"
        field: "published"
        pattern: true
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - {
          label: "Publish Date",
          name: "date",
          widget: "datetime",
          default: "{{now}}",
        }
      - {
          label: "Published",
          name: "published",
          widget: "boolean",
          default: true,
        }
      - {
          label: "Tags",
          name: "tags",
          widget: "list",
          allow_add: true,
          # field: { label: 'Tag', name: 'tag', widget: 'string', hint: 'Enter a tag or select from suggestions' },
          default: [],
          required: false,
        }
      - { label: "Body", name: "body", widget: "markdown" }
      - label: "Image"
        name: "image"
        widget: "image"
        required: false
        media_libraries:
          default:
            config:
              transformations:
                raster_image:
                  format: webp
                  quality: 85
      - {
          label: "Image Alt Text",
          name: "image_alt",
          widget: "string",
          required: false,
          hint: "Alt text for the cover image",
        }
      - {
          label: "Layout",
          name: "layout",
          widget: "hidden",
          default: "personal",
        }
      - label: "Card Items"
        name: "card_items"
        widget: "list"
        required: false
        collapsed: true
        summary: "{{fields.name}}"
        fields:
          - { label: "Title", name: "name", widget: "string" }
          - label: "Image"
            name: "image"
            widget: "image"
            required: false
            media_libraries:
              default:
                config:
                  transformations:
                    raster_image:
                      format: webp
                      quality: 85
          - {
              label: "Alt Text",
              name: "alt",
              widget: "string",
              required: false,
            }
          - {
              label: "Badge 1 (e.g. Best For)",
              name: "badge_1",
              widget: "string",
              required: false,
              hint: "First badge (blue)",
            }
          - {
              label: "Badge 2 (e.g. Type)",
              name: "badge_2",
              widget: "string",
              required: false,
              hint: "Second badge (green)",
            }
          - {
              label: "Description",
              name: "description",
              widget: "markdown",
              required: false,
            }
          - {
              label: "Primary Link URL",
              name: "url",
              widget: "string",
              required: false,
            }
          - {
              label: "Primary Link Text",
              name: "link_text",
              widget: "string",
              default: "Visit Link",
              required: false,
            }
      # - { label: 'Last Modified', name: 'last_modified_at', widget: 'datetime', required: false, hint: 'Automatically updated by GitHub Action', hidden: true }

  - name: "authors"
    label: "Authors"
    folder: "_authors"
    create: true
    slug: "{{short_name}}"
    editor:
      preview: false
    fields:
      - { label: "Short Name", name: "short_name", widget: "string" }
      - { label: "Display Name", name: "display_name", widget: "string" }
      - { label: "Position", name: "position", widget: "string" }
      - { label: "Body", name: "body", widget: "markdown" }

  - name: "category_info"
    label: "Category Info"
    folder: "_category_info"
    create: true
    slug: "{{category_name}}"
    editor:
      preview: false
    fields:
      - { label: "Category Name", name: "category_name", widget: "string" }
      - {
          label: "Category Description",
          name: "description",
          widget: "markdown",
          required: false,
        }
      - {
          label: "Publish Date",
          name: "date",
          widget: "datetime",
          default: "{{now}}",
        }

  - name: "gallery_categories"
    label: "Gallery Categories"
    folder: "_gallery_categories"
    create: true
    slug: "{{title}}"
    editor:
      preview: false
    fields:
      - { label: "Title", name: "title", widget: "string" }

  - label: About
    name: about_page
    files:
      - name: "about"
        label: "About Page"
        file: "about.md"
        create: false
        editor:
          preview: false
        fields:
          - {
              label: "Layout",
              name: "layout",
              widget: "hidden",
              default: "about",
            }
          - { label: "Title", name: "title", widget: "string" }
          - {
              label: "Permalink",
              name: "permalink",
              widget: "hidden",
              default: "/about/",
            }
          - {
              label: "Custom CSS Class",
              name: "custom_css_class",
              widget: "string",
              default: "about-page",
            }
          - { label: "Body", name: "body", widget: "markdown" }

  - name: "ai_generations"
    label: "AI Generations"
    folder: "_gallery/ai"
    media_folder: "../../assets/images/ai"
    public_folder: "/assets/images/ai"
    create: true
    slug: "{{slug}}"
    editor:
      preview: false
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Image", name: "image", widget: "image" }
      - {
          label: "Model",
          name: "labels",
          widget: "select",
          options:
            [
              "Grok",
              "Gemini",
              "Midjourney",
              "DALL-E",
              "Stable Diffusion",
              "Other",
            ],
          default: "Gemini",
        }
      - {
          label: "Caption",
          name: "caption",
          widget: "markdown",
          required: false,
        }
      - { label: "Type", name: "type", widget: "hidden", default: "external" }
      - {
          label: "Category",
          name: "category",
          widget: "hidden",
          default: "ai-generations",
        }

  - name: "memes"
    label: "Memes"
    folder: "_gallery/memes"
    media_folder: "../../assets/images/memes"
    public_folder: "/assets/images/memes"
    create: true
    slug: "{{slug}}"
    editor:
      preview: false
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - {
          label: "Publish Date",
          name: "date",
          widget: "datetime",
          default: "{{now}}",
        }
      - { label: "Image", name: "image", widget: "image" }
      - {
          label: "Caption",
          name: "caption",
          widget: "markdown",
          required: false,
        }
      - { label: "Type", name: "type", widget: "hidden", default: "external" }
      - {
          label: "Category",
          name: "category",
          widget: "hidden",
          default: "memes",
        }

  - name: "gallery"
    label: "General Gallery"
    folder: "_gallery"
    create: true
    slug: "{{slug}}"
    editor:
      preview: false
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - label: "Image"
        name: "image"
        widget: "image"
      - {
          label: "Image Alt Text",
          name: "image_alt",
          widget: "string",
          required: false,
          hint: "Alt text for the cover image",
        }

      - label: "Type"
        name: "type"
        widget: "select"
        options:
          - { label: "Cover Image", value: "cover" }
          - { label: "External Image", value: "external" }
        default: "external"

      - {
          label: "Caption",
          name: "caption",
          widget: "markdown",
          required: false,
        }
      - {
          label: "Link",
          name: "link",
          widget: "string",
          required: false,
          hint: "For Cover Images",
        }

      - {
          label: "Category",
          name: "category",
          widget: "relation",
          collection: "gallery_categories",
          display_fields: [title],
          search_fields: [title],
          value_field: "title",
          required: true,
          default: "None",
        }
      - {
          label: "Labels",
          name: "labels",
          widget: "list",
          default: [],
          required: false,
        }
      - {
          label: "Publish Date",
          name: "date",
          widget: "datetime",
          default: "{{now}}",
        }

  - name: "gallery_videos"
    label: "Videos"
    folder: "_gallery/videos"
    media_folder: "../../assets/images/videos"
    public_folder: "/assets/images/videos"
    create: true
    slug: "{{slug}}"
    editor:
      preview: false
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - {
          label: "Published",
          name: "published",
          widget: "boolean",
          default: true,
        }
      - {
          label: "Publish Date",
          name: "date",
          widget: "datetime",
          default: "{{now}}",
        }
      - {
          label: "Platform",
          name: "platform",
          widget: "select",
          options: ["youtube", "tiktok", "instagram", "twitter"],
          default: "youtube",
        }
      - {
          label: "YouTube URL or ID",
          name: "youtube_id",
          widget: "string",
          required: false,
          hint: "Paste full YouTube URL (Video or Short) or just the ID",
        }
      - {
          label: "Embed Code",
          name: "embed_code",
          widget: "text",
          required: false,
          hint: "For TikTok/Insta/Twitter: Paste full embed code",
        }
      - {
          label: "Thumbnail",
          name: "thumbnail",
          widget: "image",
          required: false,
        }
      - { label: "Type", name: "type", widget: "hidden", default: "video" }
      - {
          label: "Category",
          name: "category",
          widget: "hidden",
          default: "videos",
        }
      - {
          label: "Caption",
          name: "caption",
          widget: "markdown",
          required: false,
        }

singletons:
  - name: "config"
    label: "config"
    file: "admin/config-b.yml"
    editor:
      preview: false
    fields:
      - name: "collections"
        label: "collections"
        widget: list
        fields:
          - { label: "name", name: "name", widget: "string" }
          - { label: "label", name: "label", widget: "string" }
          - label: "slug"
            name: "slug"
            widget: "string"
            hint: "Define filename format. Examples: '{{year}}-{{month}}-{{day}}-{{slug}}' for posts, '{{slug}}' for simple collections. Leave blank for file-based collections."
            required: false
          - label: "ability to create entry"
            name: "create"
            widget: boolean

          - label: "folder"
            name: "folder"
            widget: "string"
            required: false
          - label: "media_folder"
            name: "media_folder"
            widget: "string"
            required: false
          - label: "public_folder"
            name: "public_folder"
            widget: "string"
            required: false
          - label: "files"
            name: "files"
            widget: "list"
            required: false
            fields:
              - { label: "name", name: "name", widget: "string" }
              - { label: "label", name: "label", widget: "string" }
              - { label: "file", name: "file", widget: "string" }
              - {
                  label: "create",
                  name: "create",
                  widget: "boolean",
                  default: false,
                  required: false,
                }
              - label: "fields"
                name: "fields"
                widget: "list"
                fields:
                  - { label: "name", name: "name", widget: "string" }
                  - { label: "label", name: "label", widget: "string" }
                  - { label: "widget", name: "widget", widget: "string" }

          - label: "fields"
            name: "fields"
            widget: "list"
            fields:
              - { label: "name", name: "name", widget: "string" }
              - { label: "label", name: "label", widget: "string" }
              - { label: "widget", name: "widget", widget: "string" }
